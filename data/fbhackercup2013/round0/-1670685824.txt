#include <iostream>
#include <algorithm>
#include <vector>
#include <string>
#include <stack>
#include <queue>
#include <map>
#include <set>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <cmath>
#include <climits>
#define LL long long
const double pi=acos(-1.0);
using namespace std;

int f[210][210];
char s[210];

int dfs(int l,int r){
    if (~f[l][r]) return f[l][r];
    if (s[l]=='(' && s[r]==')' && dfs(l+1,r-1)) return f[l][r]=1;
    for (int i=l;i<r;i++)
        if (dfs(l,i) && dfs(i+1,r)) return f[l][r]=1;
    return f[l][r]=0;
}

int main(){
    int ti,i,k;
    scanf("%d",&ti);
    gets(s);
    for (k=1;k<=ti;k++){
        memset(f,-1,sizeof(f));
        gets(s);
        int len=strlen(s);
        for (i=0;i<len;i++) f[i][i]=s[i]==' ' || s[i]==':' || 'a'<=s[i] && s[i]<='z';
        for (i=0;i<len-1;i++)
            if (s[i]==':' && (s[i+1]==')' || s[i+1]=='(') || s[i]=='(' && s[i+1]==')') f[i][i+1]=1;
        printf(dfs(0,len-1)?"Case #%d: YES\n":"Case #%d: NO\n",k);
    }
}

