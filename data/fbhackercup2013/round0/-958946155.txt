#include <cstdio>
#include <cstring>

#ifdef DEBUG
#define D(x...) fprintf(stderr,x)
#else
#define D(x...)
#endif

const int MAX_N = 105;

int N;
char str[MAX_N];
bool cache[MAX_N][MAX_N];

int main() {
    int T;
    scanf(" %d ",&T);

    for(int z=1;z<=T;z++) {
        gets(str);
        N = strlen(str);

        D("N = %d, str = %s\n",N,str);

        for(int i=0;i<MAX_N;i++) {
            for(int j=0;j<MAX_N;j++) {
                cache[i][j] = false;
            }
        }

        for(int i=N-1;i>=0;i--) {
            for(int j=i+1;j<=N;j++) {
                if(j - i == 1) {
                    if(str[i] == ' ' || str[i] == ':' || 
                       ('a' <= str[i] && str[i] <= 'z')) {
                        cache[i][j] = true;
                    } else {
                        cache[i][j] = false;
                    }
                } else {
                    cache[i][j] = false;
                    if(j - i == 2 && str[i] == ':' &&
                       (str[i+1] == '(' || str[i+1] == ')')) {
                        cache[i][j] = true;
                    }

                    if(j - i == 2 && str[i] == '(' && str[i+1] == ')') {
                        cache[i][j] = true;
                    }

                    if(str[i] == '(' && str[j-1] == ')' &&
                       cache[i+1][j-1]) {
                        cache[i][j] = true;
                    }

                    for(int k=i+1;k<j;k++) {
                        if(cache[i][k] && cache[k][j]) {
                            cache[i][j] = true;
                        }
                    }
                }
            }
        }

        printf("Case #%d: ", z);
        if(cache[0][N]) {
            printf("YES\n");
        } else {
            printf("NO\n");
        }
    }

    return 0;
}
