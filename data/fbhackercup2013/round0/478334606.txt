#include <cstdlib>
#include <cctype>
#include <cstring>
#include <cstdio>
#include <cmath>
#include <algorithm>
#include <vector>
#include <string>
#include <iostream>
#include <map>
#include <set>
using namespace std;

#define For(i,n) for(int i=0;i<n;i++)
#define sz(i) int(i.size())
#define mst(i,n) memset(i,n,sizeof(i))
#define eps 1e-11
#define MOD 1000000007
#define LL long long
#define pi acos(-1)
#define ALL(n) n.begin(),n.end()
#define pb push_back
#define mp make_pair
#define iFor(i,n) for(typeof(n.begin()) i=n.begin();i!=n.end();i++)
#define jFor(i,j,n) for(int i=j;i<n;i++)

char str[1<<10];
int dp[105][205];
int base = 100;
bool gao(){
    char cur[1<<10];
    int len = 0;
    For(i,strlen(str)){
        if(str[i]=='('||str[i]==')')
            cur[len++]=str[i];
        else if(str[i]==':'&&(str[i+1]=='('||str[i+1]==')'))
            cur[len++]=str[i];
    }
    mst(dp,0);
    dp[0][base]=1;
    For(i,len)jFor(j,base,205)if(dp[i][j]){
        if(cur[i]=='(') dp[i+1][j+1] = 1;
        else if(cur[i]==')') dp[i+1][j-1] = 1;
        else if(cur[i]==':') dp[i+2][j] = 1, dp[i+1][j] = 1;
    }
    return dp[len][base];
}
int main()
{
    freopen("balanced_smileystxt.txt","r",stdin);
    freopen("balanced_smileystxt_ans.txt","w",stdout);
    int m,ca=0;
    scanf("%d\n",&m);
    while(m--){
        gets(str);
        printf("Case #%d: %s\n",++ca,gao()?"YES":"NO");
    }
    return 0;
}
