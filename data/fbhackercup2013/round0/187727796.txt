#include <cstdio>
#include <vector>
#include <string>
#include <algorithm>
#include <utility>
#include <set>
#include <map>

using namespace std;

char s[105];
int d[105][105];

int good (int l) {
  return s[l] == ' ' || s[l] == ':' || ('a' <= s[l] && s[l] <= 'z');
}

int get(int l, int r) {
  if (l > r) {
    return 1;
  }
  int &res = d[l][r];
  if (res != -1) {
    return res;
  }

  res = 0;
  if (good(l)) {
    res |= get (l + 1, r);
  }

  if (s[l] == ':' && l < r && (s[l + 1] == ')' || s[l + 1] == '(')) {
    res |= get (l + 2, r);
  }

  if (s[l] == '(') {
    for (int j = l + 1; j <= r; j++) {
      if (s[j] == ')')
        res |= get (l + 1, j - 1) && get (j + 1, r);
    }
  }

  return res;
}

int main(void) {
  int nt;
  scanf ("%d\n", &nt);
  for (int tn=1; tn <= nt; tn++) {
    printf ("Case #%d: ", tn);

    gets (s);
    int l = strlen (s);
    memset (d, -1, sizeof (d));

    printf ("%s\n", get (0, l - 1) ? "YES" : "NO");
  }

  return 0;
}
