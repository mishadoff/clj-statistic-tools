#include<cstdio>
#include<cctype>
#include<iostream>
#include<cstring>
#include<string>
#include<algorithm>

#define N 109

using namespace std;

int n,T,f[N][N];
char s[N];
int go(int l,int r)
{
    int &ret=f[l][r];
    if(ret+1) return ret;
    if(l>r) return ret=1;
    if(l+1==r&&(s[l]==':'&&(s[r]=='('||s[r]==')'))) return ret=1;
    int flag=0;
    for(int i=l;i<=r&&!flag;i++) if(!islower(s[i])&&s[i]!=' '&&s[i]!=':') flag=1;
    if(!flag) return ret=1;
    if(s[l]=='('&&s[r]==')'&&go(l+1,r-1)) return ret=1;
    for(int i=l;i<r;i++) if(go(l,i)&&go(i+1,r)) return ret=1;
    return ret=0;
}
int main()
{
    freopen("balanced_smileystxt.txt","r",stdin);
    freopen("out.txt","w",stdout);
    cin>>T;
    gets(s);
    for(int cas=1;cas<=T;cas++)
    {
        gets(s);
        memset(f,-1,sizeof(f));
        n=strlen(s);
        printf("Case #%d: ",cas);
        go(0,n-1)?puts("YES"):puts("NO");
    }
    fclose(stdout);
    return 0;
}
