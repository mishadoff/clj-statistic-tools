#include <stdio.h>
#include <string.h>
#include <ctype.h>

#define MAX 1024

long max_beauty(char* buffer) {
  int i;
  char counters[30];
  char buckets[MAX];
  memset(counters, 0, sizeof(counters));
  memset(buckets, 0, sizeof(buckets));
  while (*buffer != '\0') {
    if (isalpha(*buffer))
      counters[tolower(*buffer) - 'a']++;
    buffer++;
  }
  for (i = 0; i < 30; i++)
    buckets[counters[i]]++;
  long total = 0, curr_value = 26;
  for (i = MAX-1; i > 0; i--) {
    while (buckets[i]-- > 0) {
      total += curr_value-- * i;
    }
  }
  if (curr_value < 0) {
    printf("ERROR with curr_value: %d\n", curr_value);
  }
  return total;
}

int main () {
  int i, m;
  char buffer[MAX];
  scanf("%d\n", &m);
  for (i = 1; i <= m; i++) {
    fgets(buffer, MAX-1, stdin);
    printf("Case #%d: %ld\n", i, max_beauty(buffer));
  }
  return 0;
}
