#include <cstdio>
#include <cstring>

#define MN 110

int t, s;
char in[MN];
bool pos[MN][MN];

inline bool valid(char a) {
	if(a == ' ') return true;
	if(a == ':') return true;
	if(a <= 'z' && a >= 'a') return true;
	return false;
}

int main() {

	freopen("pb.in", "r", stdin);
	freopen("pb.out", "w", stdout);

	scanf("%d\n", &t);
	for(int tc=1; tc<=t; tc++) {
		fgets(in, MN, stdin);
		s = strlen(in)-1;
		memset(pos, 0, sizeof(pos));
		for(int i=0; i<s; i++)
			pos[i][i] = valid( in[i] );
		for(int len=1; len<s; len++)
			for(int lb=0,rb; lb+len<s; lb++) {
				rb = lb+len;
				for(int k=lb; k<rb; k++) {
					if(pos[lb][k] && pos[k+1][rb]) {
						pos[lb][rb] = true;
						break;
					}
				}
				if(in[lb]=='(' && pos[lb+1][rb-1] && in[rb]==')') {
					pos[lb][rb] = true;
				}
				if(rb == lb+1) {
					if(in[lb]==':' && in[rb]==')')
						pos[lb][rb] = true;
					if(in[lb]==':' && in[rb]=='(')
						pos[lb][rb] = true;
					if(in[lb]=='(' && in[rb]==')')
						pos[lb][rb] = true;
				}
				//printf("%d,%d: %d\n", lb, rb, pos[lb][rb]);
			}
		printf("Case #%d: %s\n", tc, pos[0][s-1]?"YES":"NO");
	}
	return 0;
}
