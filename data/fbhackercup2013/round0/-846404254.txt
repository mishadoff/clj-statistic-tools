#include <iostream>
#include <string>

#define MAX(a, b) (((a) > (b)) ? (a) : (b))

using namespace std;

int main() {
  int m; cin >> m; string dummy; getline(cin, dummy);
  for (int c = 1; c <= m; ++c) {
    string s; getline(cin, s);

    bool possible = true;
    int low = 0; int high = 0;
    for (int i = 0; i < s.length(); ++i) {
      switch (s[i]) {
        case '(':
          if (i != 0 && s[i-1] == ':') {
            high++;
          } else {
            low++;
            high++;
          }
          break;
        case ')':
          if (i != 0 && s[i-1] == ':') {
            low--;
          } else {
            low--;
            high--;
            if (high < 0) possible = false;
          }
          break;
      }
      low = MAX(0, low);
      if (!possible) break;
    }
    
    if (possible && low == 0) {
      cout << "Case #" << c << ": YES" << endl;
    } else {
      cout << "Case #" << c << ": NO" << endl;
    }
  }
  return 0;
}