#include <cstdio>
#include <algorithm>
#define fi(a, b, c) for(int a = (b); a < (c); a++)
#define fd(a, b, c) for(int a = (b); a > (c); a--)
#define FI(a, b, c) for(int a = (b); a <= (c); a++)
#define FD(a, b, c) for(int a = (b); a >= (c); a--)
#define fe(a, b, c) for(int a = (b); a; a = c[a])
using namespace std;

int n, p, d[105][105];
char s[105];

bool dp(int l, int h){
	if(h < l) return 1;
	if(d[l][h] < 2) return d[l][h];
	
	if(l == h){
		if(s[l] == '(' || s[l] == ')') return d[l][h] = 0;
		return d[l][h] = 1;
	}
	
	if(l == h - 1 && s[l] == ':') return d[l][h] = 1;
	
	fi(i, l, h) if(dp(l, i) && dp(i + 1, h)) return d[l][h] = 1;
	
	if(s[l] == '(' && s[h] == ')' && dp(l + 1, h - 1)) return d[l][h] = 1;
	
	return d[l][h] = 0;
}

int main(){
	freopen("balanced_smileystxt.txt", "r", stdin);
	freopen("balanced_smileystxt.out", "w", stdout);
	scanf("%d\n", &n);
	FI(z, 1, n){
		gets(s);
		for(p = 0; s[p]; p++);
		fi(i, 0, p) fi(j, 0, p) d[i][j] = 2;
		printf("Case #%d: %s\n", z, dp(0, p - 1) ? "YES" : "NO");
	}
	scanf("\n");
}
