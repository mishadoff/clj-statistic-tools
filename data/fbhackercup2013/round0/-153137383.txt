#include <iostream>
#include <vector>
#include <algorithm>
#include <string>
#include <string.h>
#include <set>
#include <queue>
#include <map>
#include <stack>
#include <fstream>
#include <iomanip>
#include <cstdio>
#include <cstdlib>
#include <assert.h>
using namespace std;

typedef long long ll;

#define f first
#define s second
#define mk make_pair
#define pii pair<int,int>

string w;

const int maxn = 255;

int dp[maxn][maxn];

bool good(int lo, int hi) {
    if (lo>hi) return 1;
    if (lo == hi) return (w[lo]>='a'&&w[lo]<='z') || w[lo] == ' '|| w[lo] == ':';

    int &sol = dp[lo][hi];
    if (sol != -1) return sol;
    sol = false;
    sol = sol || (w[lo] == '(' && w[hi] == ')' && good(lo+1, hi-1));
    sol = sol || (hi-lo+1==2 && w[lo] == ':' && (w[lo+1]==')' || w[lo+1]=='('));

    for (int i = lo; i < hi && !sol; ++i)
        sol = sol || (good(lo,i) && good(i+1,hi));
    return sol;
}

int main() {
    freopen("Ulaz.txt","r",stdin);
    freopen("Izlaz.txt","w",stdout);
    int tests; scanf("%d",&tests);
    getline(cin, w);
    for (int t = 1; t <= tests; ++t) {
        getline(cin, w);
        memset(dp, -1, sizeof(dp));
        bool b = good(0, ((int)w.size()) - 1);
        printf("Case #%d: %s\n",t, b?"YES":"NO");
    }
    return 0;
}
