#include <cstdio>
#include <assert.h>
#include <cstdlib>
#include <iostream>
#include <algorithm>
#include <vector>
#include <cmath>
#include <set>
#include <cstring>
using namespace std;
typedef long long ll;
const int L = 26;
int i, j, k, m, n, d[102][102];
string ans;
char ss[10002];

int rec(int L, int R)
{
    if (L > R) return 1;
    int& ret = d[L][R];
    if (ret != -1) return ret;

    ret = 0;
    for (int k = L; k < R; k++)
        if (rec(L, k) && rec(k+1, R))
        {
            ret = 1;
            break;
        }
    if (L == R) ret = islower(ss[L]) || ss[L] == ' ' || ss[L] == ':';

    if (!ret)
        if (ss[L] == '(' && ss[R] == ')' && rec(L+1, R-1)) ret = 1;
    if (!ret)
        if (R == L + 1 && ss[L] == ':' && (ss[R] == '(' || ss[R] == ')')) ret = 1;
    return ret;
}

int main()
{
    freopen("fb.in", "r", stdin);
    freopen("fb.txt", "w", stdout);

    int ti, tn;
    cin >> tn;
    gets(ss);
    for (ti = 1; ti <= tn; ti++)
    {
        gets(ss);
        n = strlen(ss);
        memset(d, -1, sizeof(d));
        ans = rec(0, n-1) ? "YES" : "NO";
        cout << "Case #" << ti << ": " << ans << endl;
    }

    return 0;
}
