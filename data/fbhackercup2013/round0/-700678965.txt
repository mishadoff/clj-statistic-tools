#include<iostream>
#include<vector>
using namespace std;

int getans(string a) {
	vector<int> valid(a.size(),0); 
	valid[0] = 1;
	for(int j=0;j<a.size();j++) {
		vector<int> temp(a.size(),0); 
		if(('a'<=a[j] && a[j]<='z') || a[j]==' ' || a[j]==':')
			continue;
		if(a[j]=='(') {
			for(int i=0;i+1<valid.size();i++)
				temp[i+1]=valid[i];
			if(j>0 && a[j-1]==':')
				for(int i=0;i<valid.size();i++)
					temp[i] |= valid[i];
			valid = temp;
		} else if(a[j]==')') {
			for(int i=1;i<valid.size();i++)
				temp[i-1]=valid[i];
			if(j>0 && a[j-1]==':')
				for(int i=0;i<valid.size();i++)
					temp[i] |= valid[i];
			valid = temp;
		} else {
			return 0;
		}
	}
	return valid[0];
}

int main() {
	int n;
	cin>>n;
	string a;
	getline(cin,a);
	for(int i=0;i<n;i++) {
		getline(cin,a);
		if(getans(a))
			cout<<"Case #"<<i+1<<": YES"<<endl;
		else
			cout<<"Case #"<<i+1<<": NO"<<endl;
	}

}
