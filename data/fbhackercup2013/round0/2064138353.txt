#include <stdio.h>
#include <string.h>
#include <ctype.h>

#define MAX 1024

int balanced(char * buffer, int balance) {
  char curr = *buffer, next = *(buffer + 1);
  if (curr == '\0')
    return !balance;
  if (balance < 0)
    return 0;
  if (curr == '(' && balanced(buffer + 1, balance + 1))
    return 1;
  if (curr == ')' && balanced(buffer + 1, balance - 1))
    return 1;
  if (next != '\0') {
    if (curr == ':' && next == '(' && balanced(buffer + 2, balance))
      return 1;
    if (curr == ':' && next == ')' && balanced(buffer + 2, balance))
      return 1;
  }
  if (curr != '(' && curr != ')' && balanced(buffer + 1, balance))
    return 1;
  return 0;
}

int main () {
  int i, m;
  char buffer[MAX];
  scanf("%d\n", &m);
  for (i = 1; i <= m; i++) {
    fgets(buffer, MAX-1, stdin);
    if (balanced(buffer, 0)) {
      printf("Case #%d: YES\n", i);
    } else {
      printf("Case #%d: NO\n", i);
    }
  }
  return 0;
}
