#include <iostream>
#include <algorithm>
#include <string>
#include <cctype>
using namespace std;

bool all_a2z_space_colon(const string &s) {
  for(int i = 0; i < s.size(); ++i) {
    if(islower(s[i])) continue;
    if(s[i] == ' ') continue;
    if(s[i] == ':') continue;
    return false;
  }
  return true;
}

const int MAXN = 104;
int dp[MAXN][MAXN];

bool isBP(const string &_s, int begin, int N) {
  int &res = dp[begin][N];
  if(res != -1) return res;
  string s = _s.substr(begin, N);
  if(s == "") return res = true;
  if(s == ":)" || s == ":(") return res = true;
  if(all_a2z_space_colon(s)) return res = true;
  if( s[0] == '(' && s[N-1] == ')'
      && isBP(_s, begin+1, N-2)   ) return res = true;
  for(int i = 1; i < N; ++i) {
    if(isBP(_s, begin, i) && isBP(_s, begin+i, N-i)) return res = true;
  }
  return res = false;
}

int main() {
  int Tc;
  cin >> Tc;
  cin.ignore();
  for(int tc = 0; tc < Tc; ++tc) {
    string s;
    getline(cin, s);
    fill(dp[0], dp[MAXN], -1);
    cout << "Case #" << tc+1 << ": ";
    if(isBP(s, 0, s.size())) cout << "YES" << endl;
    else cout << "NO" << endl;
  }
  return 0;
}
